<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plan de Integración TIC - Centro Educativo en Artes Eduardo Brito</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8f7f2; color: #44403c; }
        .nav-link { transition: all 0.3s ease; border-left: 2px solid transparent; }
        .nav-link.active, .nav-link:hover { border-left-color: #0369a1; color: #0369a1; }
        .card { background-color: white; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .timeline-item::before { content: ''; position: absolute; left: 1.125rem; top: 1.125rem; width: 2px; height: calc(100% + 2rem); background-color: #d6d3d1; z-index: 0; }
        .timeline-item:last-child::before { display: none; }
        .timeline-dot { position: absolute; left: 0.5rem; top: 0.5rem; width: 1.25rem; height: 1.25rem; border-radius: 9999px; border: 3px solid #f8f7f2; background-color: #0369a1; z-index: 1; }
        .teacher-tab, .club-tab { transition: all 0.2s ease; border-bottom: 2px solid transparent; }
        .teacher-tab.active, .teacher-tab:hover, .club-tab:hover { color: #0369a1; }
        .club-tab.active { background-color: #0369a1; color: white; border-bottom-color: #0369a1; }
        .teacher-tab.active { color: #0369a1; border-bottom-color: #0369a1; }
        .teacher-tab:hover, .club-tab:hover { background-color: #e2e8f0; color: #0369a1; }
        .club-tab.active:hover { background-color: #0369a1; color: white; }
        .submenu { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-in-out; }
        .submenu.open { max-height: 500px; }
        .completed-task { text-decoration: line-through; opacity: 0.6; }
        .task-item { transition: all 0.3s ease; }
    </style>
</head>
<body class="antialiased">
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 md:py-6">
            <h1 class="text-2xl md:text-3xl font-bold text-stone-800">Plan de Integración TIC</h1>
            <p class="text-md text-stone-600">Centro Educativo en Artes Eduardo Brito, Distrito Educativo 11-02</p>
        </div>
    </header>

    <div class="flex flex-col md:flex-row">
        <nav class="bg-white p-4 md:p-8 md:min-w-[250px] md:h-screen md:sticky md:top-0 md:shadow-lg">
            <div class="flex flex-col space-y-4 border-r md:border-b-0">
                <button class="nav-link w-full text-left active py-3 px-2 font-semibold text-stone-600" data-target="portada">Portada</button>

                <div class="relative">
                    <button id="submenu-toggle" class="w-full text-left py-3 px-2 font-semibold text-stone-600 focus:outline-none flex justify-between items-center pr-2">
                        Plan General
                        <span class="text-xl transform transition-transform duration-300 rotate-0">+</span>
                    </button>
                    <div id="submenu" class="submenu flex flex-col pl-4 mt-2 space-y-2">
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="diagnostico">Diagnóstico</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="plan">Plan de Acción</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="formacion">Formación</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="actores">Actores Clave</button>
                    </div>
                </div>

                <div class="relative">
                    <button id="recursos-submenu-toggle" class="w-full text-left py-3 px-2 font-semibold text-stone-600 focus:outline-none flex justify-between items-center pr-2">
                        Recursos
                        <span class="text-xl transform transition-transform duration-300 rotate-0">+</span>
                    </button>
                    <div id="recursos-submenu" class="submenu flex flex-col pl-4 mt-2 space-y-2">
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="plan-diario">Plan Diario</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="funciones-tic">Funciones TIC</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="cursos">Cursos</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="programas">Programas</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="profesores">Sala de Profesores</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="evidencias">Evidencias</button>
                        <button class="nav-link w-full text-left py-2 px-4 text-stone-600" data-target="archivos">Archivos</button>
                    </div>
                </div>

                <button class="nav-link w-full text-left py-3 px-2 font-semibold text-stone-600" data-target="linea-progreso">Línea de Progreso</button>
                <button class="nav-link w-full text-left py-3 px-2 font-semibold text-stone-600" data-target="evaluacion">Evaluación y Sostenibilidad</button>
            </div>
        </nav>

        <main class="flex-1 container mx-auto p-4 md:p-8">
            <!-- Portada Section -->
            <section id="portada" class="content-section">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Visión General del Plan</h2>
                    <p class="mb-4 text-lg text-stone-700">Este plan estratégico busca integrar de manera efectiva las Tecnologías de la Información y Comunicación (TIC) en el proceso de enseñanza-aprendizaje del Centro Educativo en Artes Eduardo Brito, para potenciar el desarrollo de competencias digitales en docentes y estudiantes.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center mt-8">
                        <div class="bg-sky-50 p-6 rounded-lg">
                            <h3 class="text-3xl font-bold text-sky-700">4 Fases</h3>
                            <p class="text-stone-600">Desde el diagnóstico hasta la evaluación y mejora continua.</p>
                        </div>
                        <div class="bg-sky-50 p-6 rounded-lg">
                            <h3 class="text-3xl font-bold text-sky-700">3+ Talleres</h3>
                            <p class="text-stone-600">Capacitación en herramientas clave como Google Workspace, Canva y Robótica.</p>
                        </div>
                        <div class="bg-sky-50 p-6 rounded-lg">
                            <h3 class="text-3xl font-bold text-sky-700">10 Meses</h3>
                            <p class="text-stone-600">Implementación del plan a lo largo del año escolar 2025-2026.</p>
                        </div>
                    </div>

                    <div class="mt-8">
                        <h3 class="text-xl font-bold text-sky-800 mb-3">Objetivo General</h3>
                        <p class="text-stone-700 bg-stone-100 p-4 rounded-lg">Implementar un plan integral para la integración curricular de las TIC que fortalezca las prácticas pedagógicas y promueva un aprendizaje innovador, crítico y creativo en toda la comunidad educativa.</p>
                    </div>

                    <div class="mt-8">
                        <h3 class="text-xl font-bold text-sky-800 mb-3">Objetivos Específicos</h3>
                        <ul class="list-disc list-inside space-y-2 text-stone-700 bg-stone-100 p-4 rounded-lg">
                            <li>Promover la actualización de los docentes en el uso de herramientas y recursos TIC.</li>
                            <li>Fomentar la creación de contenidos digitales que enriquezcan el proceso de enseñanza-aprendizaje.</li>
                            <li>Desarrollar proyectos colaborativos que integren el uso de las TIC en las diferentes áreas del conocimiento.</li>
                            <li>Implementar un programa de formación que fortalezca las competencias digitales de los estudiantes.</li>
                            <li>Evaluar el impacto de la integración de las TIC en el rendimiento académico y la motivación de la comunidad educativa.</li>
                            <li>Establecer un sistema de gestión de recursos y mantenimiento para garantizar la operatividad de los equipos.</li>
                            <li>Involucrar a las familias y la comunidad en el uso de las tecnologías como herramienta de apoyo al aprendizaje.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Diagnóstico Section -->
            <section id="diagnostico" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Diagnóstico del Entorno TIC</h2>
                    <p class="mb-6 text-stone-700">Para desarrollar un plan efectivo, primero se evaluó el estado actual de los recursos tecnológicos y las competencias digitales en nuestro centro. Este análisis nos permite enfocar los esfuerzos donde más se necesitan.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-semibold text-green-700 mb-4 flex items-center"><span class="text-2xl mr-3">👍</span> Fortalezas</h3>
                            <ul class="space-y-3 list-inside">
                                <li class="bg-green-50 p-3 rounded-md">Existencia de laptops para docentes y estudiantes.</li>
                                <li class="bg-green-50 p-3 rounded-md">Disponibilidad de Pizarras Digitales Interactivas (PDI).</li>
                                <li class="bg-green-50 p-3 rounded-md">Interés y actitud positiva del personal docente hacia la tecnología.</li>
                                <li class="bg-green-50 p-3 rounded-md">Servidores de contenido digital con recursos precargados.</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-amber-700 mb-4 flex items-center"><span class="text-2xl mr-3">🔧</span> Debilidades y Oportunidades</h3>
                            <ul class="space-y-3 list-inside">
                                <li class="bg-amber-50 p-3 rounded-md">Necesidad de formación continua para el uso pedagógico de las TIC.</li>
                                <li class="bg-amber-50 p-3 rounded-md">Conectividad a internet limitada en algunas áreas del centro.</li>
                                <li class="bg-amber-50 p-3 rounded-md">Falta de un plan estructurado para el mantenimiento de equipos.</li>
                                <li class="bg-amber-50 p-3 rounded-md">Poco aprovechamiento de los recursos digitales disponibles.</li>
                                <li class="bg-amber-50 p-3 rounded-md">Necesidad de involucrar más a las familias en el uso de la tecnología.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Plan de Acción Section -->
            <section id="plan" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Plan de Acción y Cronograma</h2>
                    <p class="mb-8 text-stone-700">El plan se desarrolla a lo largo de cuatro fases clave durante el año escolar. A continuación se presenta el cronograma interactivo con las actividades principales para cada fase.</p>
                    
                    <div class="relative pl-8 py-4">
                        <div class="timeline-item relative pb-12">
                            <div class="timeline-dot"></div>
                            <div class="ml-4">
                                <span class="text-sm font-semibold text-sky-600">SEPTIEMBRE - OCTUBRE 2025</span>
                                <h3 class="text-lg font-bold text-stone-800">Fase I: Diagnóstico y Planificación</h3>
                                <p class="text-stone-600 mt-1">Inventario de equipos, mapeo de conectividad y encuestas para definir la línea base y la hoja de ruta.</p>
                            </div>
                        </div>
                        <div class="timeline-item relative pb-12">
                            <div class="timeline-dot"></div>
                            <div class="ml-4">
                                <span class="text-sm font-semibold text-sky-600">NOVIEMBRE 2025 - FEBRERO 2026</span>
                                <h3 class="text-lg font-bold text-stone-800">Fase II: Implementación y Capacitación</h3>
                                <p class="text-stone-600 mt-1">Adquisición y configuración de nuevos recursos. Inicio de los talleres de formación docente y lanzamiento del Club de Robótica.</p>
                            </div>
                        </div>
                        <div class="timeline-item relative pb-12">
                            <div class="timeline-dot"></div>
                            <div class="ml-4">
                                <span class="text-sm font-semibold text-sky-600">MARZO - ABRIL 2026</span>
                                <h3 class="text-lg font-bold text-stone-800">Fase III: Integración Curricular</h3>
                                <p class="text-stone-600 mt-1">Diseño de proyectos transversales que integren las TIC en las asignaturas y creación del repositorio de recursos digitales.</p>
                            </div>
                        </div>
                        <div class="timeline-item relative">
                            <div class="timeline-dot"></div>
                            <div class="ml-4">
                                <span class="text-sm font-semibold text-sky-600">MAYO - JUNIO 2026</span>
                                <h3 class="text-lg font-bold text-stone-800">Fase IV: Evaluación y Mejora Continua</h3>
                                <p class="text-stone-600 mt-1">Evaluación del impacto del plan, feria de proyectos digitales para mostrar resultados y elaboración del informe final con recomendaciones.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Formación Section -->
            <section id="formacion" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Formación y Acompañamiento Docente</h2>
                    <p class="mb-6 text-stone-700">El éxito de este plan depende fundamentalmente del desarrollo de las competencias digitales de nuestro cuerpo docente. Por ello, hemos diseñado un programa de formación continua, práctico y adaptado a las necesidades del centro.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div>
                            <h3 class="text-xl font-semibold text-stone-800 mb-4">Metodología</h3>
                            <p class="text-stone-600 mb-4">Nuestra formación se basa en el principio de "aprender haciendo". Las sesiones serán talleres prácticos donde los docentes crearán recursos y planificaciones que podrán aplicar directamente en sus aulas.</p>
                            <ul class="space-y-3">
                                <li class="flex items-start">
                                    <span class="text-sky-600 mr-3 mt-1">▶</span>
                                    <span><strong>Acompañamiento en el aula:</strong> Apoyo personalizado para resolver dudas y aplicar lo aprendido.</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-sky-600 mr-3 mt-1">▶</span>
                                    <span><strong>Comunidades de práctica:</strong> Espacios para compartir experiencias, recursos y buenas prácticas entre colegas.</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-sky-600 mr-3 mt-1">▶</span>
                                    <span><strong>Proyectos finales:</strong> Cada taller culminará con un proyecto práctico aplicable a una de las asignaturas.</span>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-stone-800 mb-4 text-center">Áreas de Enfoque Formativo</h3>
                            <canvas id="formacionChart" width="400" height="400"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Actores Clave Section -->
            <section id="actores" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Actores Clave y Sus Roles</h2>
                    <p class="mb-8 text-stone-700">La integración efectiva de las TIC es un esfuerzo colaborativo. Cada miembro de la comunidad educativa tiene un papel fundamental para alcanzar nuestros objetivos.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Equipo Directivo</h3>
                            <p class="text-stone-600">Liderar la visión del plan, gestionar los recursos necesarios y promover una cultura de innovación y colaboración en todo el centro.</p>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Coordinador TIC</h3>
                            <p class="text-stone-600">Diseñar, planificar y ejecutar el plan. Capacitar a los docentes, ofrecer soporte técnico-pedagógico y monitorear el progreso.</p>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Docentes</h3>
                            <p class="text-stone-600">Integrar activamente las TIC en la planificación y ejecución de sus clases. Participar en la formación y compartir buenas prácticas.</p>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Estudiantes</h3>
                            <p class="text-stone-600">Ser protagonistas de su aprendizaje, utilizando las herramientas digitales para crear, colaborar e investigar. Participar en los clubes de tecnología.</p>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Familias</h3>
                            <p class="text-stone-600">Apoyar el proceso de aprendizaje desde casa, participar en talleres informativos y fomentar el uso seguro y responsable de la tecnología.</p>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Personal de Soporte</h3>
                            <p class="text-stone-600">Asegurar el correcto funcionamiento y mantenimiento de la infraestructura tecnológica, incluyendo redes y equipos.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Línea de Progreso Section -->
            <section id="linea-progreso" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Línea de Progreso, Estrategias y Planificación</h2>
                    <p class="mb-6 text-stone-700">La implementación del plan se basa en un ciclo continuo de progreso, estrategias adaptativas y planificación rigurosa para asegurar el éxito.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-sky-50 p-6 rounded-lg border border-sky-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Progreso y Monitoreo</h3>
                            <p class="text-stone-600">Se realizará un seguimiento continuo de las actividades, utilizando encuestas y reportes de evidencias para medir el avance y el impacto en la comunidad educativa.</p>
                        </div>
                        <div class="bg-green-50 p-6 rounded-lg border border-green-200">
                            <h3 class="font-bold text-lg text-green-800 mb-2">Estrategias Adaptativas</h3>
                            <p class="text-stone-600">El plan se adapta a las necesidades cambiantes del centro. Las estrategias de formación y de integración curricular se ajustarán en base a los resultados de las evaluaciones y el feedback de los docentes.</p>
                        </div>
                        <div class="bg-purple-50 p-6 rounded-lg border border-purple-200">
                            <h3 class="font-bold text-lg text-purple-800 mb-2">Planificación y Colaboración</h3>
                            <p class="text-stone-600">La planificación semanal y las reuniones de equipo garantizan que cada fase del plan se ejecute de manera organizada. La colaboración entre el personal clave es fundamental para la coherencia de las acciones.</p>
                        </div>
                    </div>

                    <div class="card p-6 md:p-8 mt-8">
                        <h2 class="text-2xl font-bold text-sky-800 mb-4">Metas y Puntos de Desempeño</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200">
                                <p class="text-sm text-stone-500">Puntos del Día</p>
                                <span id="daily-points" class="text-3xl font-bold text-sky-700">0</span>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200">
                                <p class="text-sm text-stone-500">Progreso Semanal (Meta: 500)</p>
                                <span id="weekly-points" class="text-3xl font-bold text-sky-700">0</span>
                                <div class="w-full bg-stone-200 rounded-full h-2.5 mt-2">
                                    <div id="weekly-progress-bar" class="bg-sky-600 h-2.5 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-stone-200">
                                <p class="text-sm text-stone-500">Progreso Anual (Total Acumulado)</p>
                                <span id="annual-points" class="text-3xl font-bold text-green-700">0</span>
                            </div>
                        </div>

                        <div class="card p-6 md:p-8 mt-8">
                            <h2 class="text-2xl font-bold text-sky-800 mb-4">Actividad Sugerida y Metas del Día</h2>
                            <p id="daily-activity-message" class="text-stone-700 mb-4">Cargando la actividad sugerida...</p>
                            <button id="add-daily-task-btn" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 hidden">Agregar a mis metas (100 puntos)</button>
                        </div>

                        <div class="card p-6 md:p-8 mt-8">
                            <h2 class="text-2xl font-bold text-sky-800 mb-4">Mi Lista de Actividades y Puntos</h2>
                            <form id="add-task-form" class="space-y-4">
                                <div class="flex space-x-2">
                                    <input type="text" id="task-description" placeholder="Escribe tu actividad aquí..." required class="flex-1 rounded-md border-stone-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 bg-white p-2">
                                    <input type="number" id="task-points" placeholder="Puntos" value="10" min="1" required class="w-24 rounded-md border-stone-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 bg-white p-2 text-center">
                                </div>
                                <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">Agregar Actividad</button>
                            </form>
                            <div class="space-y-2 mt-6" id="tasks-list">
                                <p class="text-stone-500">Aún no hay metas agregadas.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Plan Diario Section -->
            <section id="plan-diario" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Plan de Acción Diario</h2>
                    <p class="mb-6 text-stone-700">Para facilitar la implementación, las actividades del plan se han organizado en una rutina diaria de lunes a viernes.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Lunes: Planificación y Organización</h3>
                            <ul class="list-disc list-inside space-y-2 text-stone-600">
                                <li>Reuniones de planificación semanales.</li>
                                <li>Análisis de necesidades y seguimiento del inventario de equipos.</li>
                                <li>Investigación de nuevas herramientas y recursos TIC.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Martes: Formación y Apoyo Docente</h3>
                            <ul class="list-disc list-inside space-y-2 text-stone-600">
                                <li>Sesiones de capacitación en talleres programados.</li>
                                <li>Asesoría personalizada a docentes sobre el uso de recursos digitales.</li>
                                <li>Actualización del repositorio de materiales didácticos.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Miércoles: Integración Curricular</h3>
                            <ul class="list-disc list-inside space-y-2 text-stone-600">
                                <li>Colaboración con coordinadores de áreas para diseñar proyectos.</li>
                                <li>Reuniones con maestros para adaptar el currículo a las TIC.</li>
                                <li>Desarrollo de proyectos interdisciplinarios con tecnología.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Jueves: Actividades con Estudiantes</h3>
                            <ul class="list-disc list-inside space-y-2 text-stone-600">
                                <li>Clases prácticas en el aula de informática.</li>
                                <li>Actividades en los clubes extracurriculares (Robótica, Arduino, EFABL, etc.).</li>
                                <li>Apoyo a los estudiantes en sus proyectos digitales.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800 mb-2">Viernes: Mantenimiento y Evaluación</h3>
                            <ul class="list-disc list-inside space-y-2 text-stone-600">
                                <li>Revisión y mantenimiento de equipos.</li>
                                <li>Análisis de las evidencias registradas en el sistema.</li>
                                <li>Elaboración de informes de avance para la dirección.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Funciones TIC Section -->
            <section id="funciones-tic" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Funciones del Coordinador TIC / Maestro de Tecnología</h2>
                    <p class="mb-6 text-stone-700">Este personal se enfoca en las funciones propias del aula de acuerdo con el Nivel Educativo. Las acciones estratégicas de apoyo técnico-pedagógicas se resumen en las siguientes:</p>
                    
                    <ul class="space-y-4 mt-6">
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Planificar, implementar y evaluar proyectos educativos innovadores, clases y actividades integradoras para incentivar la integración curricular de las Tecnologías Educativas.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Trabajar en coordinación con los docentes de las salidas optativas de Matemática y Tecnologías, Ciencia y Tecnologías del Currículo del Nivel Secundario.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Identificar, seleccionar, evaluar y diseñar recursos para mantener un repositorio de herramientas y recursos digitales que mejor se adapten a las necesidades del contexto.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Organizar e impartir talleres y capacitación interna sobre el uso efectivo de las TIC en el aula, metodologías STEAM, Inteligencia artificial, entre otros recursos educativos digitales en tendencia.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Identificar y evaluar las buenas prácticas en el uso e integración curricular de las TIC para promover su adopción entre el personal docente.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Fomentar la relación entre la comunidad educativa y los organismos de participación, como la APMAE, para el uso de las tecnologías.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-semibold text-stone-800">Garantizar el cumplimiento de los horarios establecidos en el uso de los recursos TIC como laptops, PCs, PDI, kits de Robótica, etc.</p>
                        </li>
                        <li class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <p class="font-semibold text-stone-800">Mantener la investigación y actualización sobre las tendencias y avances en tecnología educativa para mejorar la enseñanza y el aprendizaje.</p>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Cursos Section -->
            <section id="cursos" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Catálogo de Cursos y Talleres</h2>
                    <p class="mb-6 text-stone-700">A continuación se detallan los talleres de formación disponibles para la comunidad educativa, diseñados para fortalecer las competencias digitales y la integración de las TIC en la práctica docente.</p>
                    
                    <div class="space-y-6 mt-6">
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800">Taller 1: Google Workspace para la Educación</h3>
                            <p class="mt-2 text-stone-600">Este taller se enfoca en el uso de herramientas colaborativas como Drive, Docs y Classroom para optimizar la planificación y la comunicación en el aula.</p>
                            <ul class="list-disc list-inside text-sm text-stone-500 mt-2">
                                <li>Clases y sesiones de 45 minutos.</li>
                                <li>Actividades prácticas y creación de proyectos.</li>
                                <li>Evaluación continua basada en la participación y calidad de los trabajos.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800">Taller 2: Creación de Contenido Digital con Canva</h3>
                            <p class="mt-2 text-stone-600">En este curso, los participantes aprenden a diseñar materiales visuales interactivos como infografías, presentaciones y fichas didácticas que capturan la atención de los estudiantes.</p>
                            <ul class="list-disc list-inside text-sm text-stone-500 mt-2">
                                <li>Uso de plantillas y herramientas de diseño.</li>
                                <li>Evaluación basada en la calidad del proyecto final.</li>
                                <li>Capacidad para aplicar los conocimientos adquiridos.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800">Taller 3: Microsoft Teams, OneDrive y Copilot</h3>
                            <p class="mt-2 text-stone-600">Este taller se centra en las herramientas de colaboración de Microsoft. Los docentes aprenderán a usar Teams para la comunicación en el aula, gestionar archivos en la nube con OneDrive y aprovechar el poder de la inteligencia artificial de Copilot para la creación de contenido y automatización de tareas.</p>
                            <ul class="list-disc list-inside text-sm text-stone-500 mt-2">
                                <li>Comunicación y colaboración en Teams.</li>
                                <li>Almacenamiento y sincronización de archivos con OneDrive.</li>
                                <li>Integración de Copilot para la creación de contenido y automatización de tareas.</li>
                            </ul>
                        </div>
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-sky-800">Actividad Permanente: Club de Robótica Educativa</h3>
                            <p class="mt-2 text-stone-600">Una iniciativa extracurricular que promueve el pensamiento lógico y la resolución de problemas a través de la construcción y programación de robots con lenguajes visuales como Scratch.</p>
                            <ul class="list-disc list-inside text-sm text-stone-500 mt-2">
                                <li>Enfoque en el trabajo en equipo y la colaboración.</li>
                                <li>Desarrollo de proyectos para resolver desafíos.</li>
                                <li>Fomento de la disciplina y el compromiso.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Programas Section -->
            <section id="programas" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Programas y Actividades Extracurriculares</h2>
                    <p class="mb-6 text-stone-700">Explora los diferentes programas y proyectos que fomentan la creatividad y el pensamiento crítico a través de la tecnología.</p>
                    
                    <div class="flex flex-wrap gap-4 mb-8" id="club-tabs">
                        <button class="club-tab py-2 px-4 rounded-lg text-sm font-semibold text-stone-600 border border-stone-200 hover:bg-stone-100 active" data-tab="robotica">Club de Robótica</button>
                        <button class="club-tab py-2 px-4 rounded-lg text-sm font-semibold text-stone-600 border border-stone-200 hover:bg-stone-100" data-tab="arduino">Club de Arduino</button>
                        <button class="club-tab py-2 px-4 rounded-lg text-sm font-semibold text-stone-600 border border-stone-200 hover:bg-stone-100" data-tab="chicas-tic">Chicas TIC</button>
                        <button class="club-tab py-2 px-4 rounded-lg text-sm font-semibold text-stone-600 border border-stone-200 hover:bg-stone-100" data-tab="efabl">EFABL</button>
                        <button class="club-tab py-2 px-4 rounded-lg text-sm font-semibold text-stone-600 border border-stone-200 hover:bg-stone-100" data-tab="fihr">FIHR</button>
                    </div>

                    <div id="club-content" class="space-y-6">
                        <div class="club-details" data-tab="robotica">
                            <h3 class="text-xl font-bold text-sky-800 mb-2">Club de Robótica</h3>
                            <div class="bg-stone-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-lg text-stone-700 mb-2">Objetivo y Actividades</h4>
                                <p class="text-stone-600">Este club promueve el pensamiento computacional y la resolución de problemas a través de la construcción y programación de robots. Los estudiantes aprenderán a trabajar en equipo y a aplicar principios de ingeniería.</p>
                                <ul class="list-disc list-inside space-y-2 text-stone-600 mt-4">
                                    <li>Construcción de robots con kits modulares.</li>
                                    <li>Programación por bloques y lenguajes simples.</li>
                                    <li>Participación en competencias de robótica.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="club-details hidden" data-tab="arduino">
                            <h3 class="text-xl font-bold text-sky-800 mb-2">Club de Arduino</h3>
                            <div class="bg-stone-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-lg text-stone-700 mb-2">Objetivo y Actividades</h4>
                                <p class="text-stone-600">En este club, los estudiantes explorarán el mundo de la electrónica y la programación de microcontroladores. Crearán proyectos interactivos, desde sistemas de luces hasta sensores inteligentes.</p>
                                <ul class="list-disc list-inside space-y-2 text-stone-600 mt-4">
                                    <li>Introducción a la electrónica básica y circuitos.</li>
                                    <li>Programación de placas Arduino.</li>
                                    <li>Desarrollo de proyectos de domótica y automatización.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="club-details hidden" data-tab="chicas-tic">
                            <h3 class="text-xl font-bold text-sky-800 mb-2">Chicas TIC</h3>
                            <div class="bg-stone-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-lg text-stone-700 mb-2">Objetivo y Actividades</h4>
                                <p class="text-stone-600">Este grupo busca empoderar a las estudiantes para que se interesen y destaquen en carreras de tecnología. Se fomenta el liderazgo y la colaboración en un entorno de apoyo.</p>
                                <ul class="list-disc list-inside space-y-2 text-stone-600 mt-4">
                                    <li>Talleres de codificación y diseño web.</li>
                                    <li>Charlas con mujeres líderes en tecnología.</li>
                                    <li>Proyectos de impacto social con enfoque tecnológico.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="club-details hidden" data-tab="efabl">
                            <h3 class="text-xl font-bold text-sky-800 mb-2">EFABL</h3>
                            <div class="bg-stone-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-lg text-stone-700 mb-2">Objetivo y Actividades</h4>
                                <p class="text-stone-600">Este programa se enfoca en el desarrollo de las habilidades artísticas de los estudiantes, combinándolas con el idioma <strong>inglés</strong> para la creación de proyectos innovadores que promuevan el liderazgo y la expresión personal. Se utiliza el conocimiento del inglés y las PCs para la elaboración de los proyectos artísticos.</p>
                                <ul class="list-disc list-inside space-y-2 text-stone-600 mt-4">
                                    <li>Creación de producciones digitales (música, video, fotografía).</li>
                                    <li>Uso de software de edición y diseño.</li>
                                    <li>Desarrollo de proyectos de liderazgo con enfoque artístico.</li>
                                    <li>Práctica del inglés a través de proyectos artísticos.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="club-details hidden" data-tab="fihr">
                            <h3 class="text-xl font-bold text-sky-800 mb-2">FIHR (Formación Humana Integral y Religiosa)</h3>
                            <div class="bg-stone-50 p-6 rounded-lg">
                                <h4 class="font-semibold text-lg text-stone-700 mb-2">Objetivo y Actividades</h4>
                                <p class="text-stone-600">Este programa, diseñado para estudiantes de cuarto de secundaria en la asignatura de Formación Humana Integral y Religiosa, combina la investigación histórica con las tecnologías modernas. Los estudiantes usarán la robótica y herramientas digitales para explorar y presentar eventos del pasado de una manera interactiva y creativa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sala de Profesores Section -->
            <section id="profesores" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Sala de Profesores</h2>
                    <p class="mb-6 text-stone-700">Haz clic en el nombre de un profesor para ver su rol en la integración de las TIC en el centro educativo.</p>
                    
                    <div class="flex flex-wrap gap-4 mb-8" id="teacher-tabs"></div>
                    
                    <div id="teacher-content" class="space-y-6"></div>
                </div>
            </section>

            <!-- Evidencias Section -->
            <section id="evidencias" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Evidencias del Plan de Acción</h2>
                    <p class="mb-6 text-stone-700">Esta sección permite documentar el progreso de las actividades. Colabora agregando evidencias, como fotos o descripciones, para cada fase del plan.</p>
                    
                    <div class="bg-stone-100 p-6 rounded-lg mb-8">
                        <h3 class="text-xl font-bold text-stone-800 mb-4">Registrar nueva evidencia</h3>
                        <form id="evidence-form" class="space-y-4">
                            <div>
                                <label for="activity-select" class="block text-sm font-medium text-stone-700">Actividad o Fase:</label>
                                <select id="activity-select" required class="mt-1 block w-full rounded-md border-stone-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 bg-white p-2">
                                    <option value="" disabled selected>Selecciona una opción</option>
                                    <option value="Fase I: Diagnóstico y Planificación">Fase I: Diagnóstico y Planificación</option>
                                    <option value="Fase II: Implementación y Capacitación">Fase II: Implementación y Capacitación</option>
                                    <option value="Fase III: Integración Curricular">Fase III: Integración Curricular</option>
                                    <option value="Fase IV: Evaluación y Mejora Continua">Fase IV: Evaluación y Mejora Continua</option>
                                    <option value="Taller 1: Google Workspace">Taller 1: Google Workspace</option>
                                    <option value="Taller 2: Canva y Genially">Taller 2: Canva y Genially</option>
                                    <option value="Otro">Otro (Especifique en la descripción)</option>
                                </select>
                            </div>
                            <div>
                                <label for="evidence-description" class="block text-sm font-medium text-stone-700">Descripción o URL de la evidencia:</label>
                                <textarea id="evidence-description" rows="3" required class="mt-1 block w-full rounded-md border-stone-300 shadow-sm focus:border-sky-500 focus:ring-sky-500 bg-white p-2"></textarea>
                            </div>
                            <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500">Registrar Evidencia</button>
                        </form>
                    </div>
                    
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-stone-800">Evidencias registradas</h3>
                        <p id="loading-message" class="text-stone-500">Cargando evidencias...</p>
                        <div id="evidences-list" class="space-y-4"></div>
                    </div>
                </div>
            </section>

            <!-- Archivos Section -->
            <section id="archivos" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Repositorio de Archivos</h2>
                    <p class="mb-6 text-stone-700">Utiliza esta sección para subir documentos, planes de clase, formularios y otros archivos importantes. La información se guardará en el repositorio compartido del centro.</p>
                    
                    <div class="bg-stone-100 p-6 rounded-lg mb-8">
                        <h3 class="text-xl font-bold text-stone-800 mb-4">Subir nuevo archivo</h3>
                        <form id="file-upload-form" class="space-y-4">
                            <div>
                                <label for="file-input" class="block text-sm font-medium text-stone-700">Seleccionar archivo:</label>
                                <input type="file" id="file-input" required class="mt-1 block w-full text-sm text-stone-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-sky-50 file:text-sky-700 hover:file:bg-sky-100">
                            </div>
                            <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500">Subir Archivo</button>
                        </form>
                    </div>
                    
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-stone-800">Archivos Subidos</h3>
                        <p id="files-loading-message" class="text-stone-500">Cargando archivos...</p>
                        <div id="files-list" class="space-y-4"></div>
                    </div>
                </div>
            </section>

            <!-- Evaluación y Sostenibilidad Section -->
            <section id="evaluacion" class="content-section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-2xl font-bold text-sky-800 mb-4">Evaluación del Impacto y Plan de Sostenibilidad</h2>
                    <p class="mb-8 text-stone-700">Para asegurar que la integración de las TIC genere un cambio duradero y positivo, es crucial medir su impacto y planificar su continuidad a largo plazo. Esta sección detalla los mecanismos de evaluación y las estrategias para que el plan perdure en el tiempo.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Columna de Evaluación -->
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-purple-800 mb-4">Indicadores Clave de Desempeño (KPIs)</h3>
                            <p class="text-stone-600 mb-4">Mediremos el éxito a través de datos cuantitativos y cualitativos:</p>
                            <ul class="list-disc list-inside space-y-3 text-stone-700">
                                <li><strong>Participación Docente:</strong> Porcentaje de maestros que completan la formación y aplican las TIC en sus clases.</li>
                                <li><strong>Producción de Contenidos:</strong> Número de recursos digitales creados y compartidos en el repositorio del centro.</li>
                                <li><strong>Proyectos Estudiantiles:</strong> Cantidad y calidad de proyectos que integran tecnología, evaluados mediante rúbricas.</li>
                                <li><strong>Encuestas de Satisfacción:</strong> Percepción de estudiantes, docentes y familias sobre el uso de la tecnología.</li>
                                <li><strong>Uso de Recursos:</strong> Frecuencia de uso de los laboratorios, PDI y otros equipos tecnológicos.</li>
                            </ul>
                        </div>

                        <!-- Columna de Sostenibilidad -->
                        <div class="bg-stone-50 p-6 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-lg text-green-800 mb-4">Estrategias de Sostenibilidad</h3>
                            <p class="text-stone-600 mb-4">Para que el plan no sea un esfuerzo de un solo año, implementaremos:</p>
                            <ul class="list-disc list-inside space-y-3 text-stone-700">
                                <li><strong>Comité TIC Permanente:</strong> Formar un equipo de docentes líderes que guíen la innovación tecnológica anualmente.</li>
                                <li><strong>Presupuesto Anual:</strong> Asignar una partida presupuestaria para el mantenimiento, actualización de equipos y licencias.</li>
                                <li><strong>Programa de Mentores:</strong> Docentes avanzados apoyarán a los nuevos ingresos en el uso de las TIC.</li>
                                <li><strong>Integración Curricular Continua:</strong> Incorporar las competencias digitales como un eje transversal en la planificación anual del centro.</li>
                                <li><strong>Alianzas Estratégicas:</strong> Buscar colaboraciones con instituciones y empresas para acceder a nuevos recursos y formación.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Esquema de Instrumentos de Evaluación -->
                    <div class="mt-8">
                        <h3 class="text-xl font-bold text-sky-800 mb-4">Esquema de Instrumentos de Evaluación</h3>
                        <div class="space-y-6">
                            <!-- Instrumento 1: Encuesta Docente -->
                            <div class="card p-6 border border-stone-200">
                                <h4 class="font-semibold text-lg text-stone-800">1. Encuesta de Autoevaluación Docente (Trimestral)</h4>
                                <p class="text-sm text-stone-600 mb-4"><strong>Instrumento:</strong> Formulario de Google o Microsoft Forms.</p>
                                <p class="text-stone-700 mb-2"><strong>Objetivo:</strong> Medir la percepción, confianza y frecuencia de uso de las TIC por parte de los docentes.</p>
                                <ul class="list-disc list-inside space-y-2 text-sm text-stone-600 bg-stone-50 p-4 rounded-md">
                                    <li><strong>Pregunta de Escala (1-5):</strong> "¿En qué medida te sientes seguro/a al utilizar [Herramienta Específica, ej: Google Classroom] en tu planificación?"</li>
                                    <li><strong>Pregunta de Frecuencia:</strong> "¿Con qué frecuencia integras recursos digitales (videos, simuladores, etc.) en tus clases a la semana?"</li>
                                    <li><strong>Pregunta Abierta:</strong> "¿Qué tipo de apoyo o formación adicional necesitarías para integrar mejor la tecnología en tu asignatura?"</li>
                                    <li><strong>Pregunta de Opción Múltiple:</strong> "¿Cuál de las siguientes herramientas has utilizado en el último mes? (Marcar todas las que apliquen)"</li>
                                </ul>
                            </div>

                            <!-- Instrumento 2: Rúbrica de Proyectos -->
                            <div class="card p-6 border border-stone-200">
                                <h4 class="font-semibold text-lg text-stone-800">2. Rúbrica de Evaluación para Proyectos Estudiantiles (Por Proyecto)</h4>
                                <p class="text-sm text-stone-600 mb-4"><strong>Instrumento:</strong> Documento de rúbrica estandarizado (impreso o digital).</p>
                                <p class="text-stone-700 mb-2"><strong>Objetivo:</strong> Evaluar la calidad de la integración tecnológica en los trabajos de los estudiantes de manera objetiva.</p>
                                <ul class="list-disc list-inside space-y-2 text-sm text-stone-600 bg-stone-50 p-4 rounded-md">
                                    <li><strong>Criterio "Uso de Herramientas Digitales":</strong> Evalúa si el estudiante selecciona y utiliza la herramienta adecuada para el objetivo del proyecto.</li>
                                    <li><strong>Criterio "Creatividad e Innovación":</strong> Mide si la tecnología se usa para presentar la información de una manera original y efectiva.</li>
                                    <li><strong>Criterio "Colaboración Digital":</strong> Evalúa (si aplica) cómo los estudiantes utilizaron herramientas colaborativas para trabajar en equipo.</li>
                                    <li><strong>Criterio "Alfabetización Mediática":</strong> Mide la capacidad del estudiante para seleccionar y citar fuentes de información en línea de manera apropiada.</li>
                                </ul>
                            </div>

                            <!-- Instrumento 3: Registro de Uso -->
                            <div class="card p-6 border border-stone-200">
                                <h4 class="font-semibold text-lg text-stone-800">3. Lista de Cotejo de Uso de Recursos (Mensual)</h4>
                                <p class="text-sm text-stone-600 mb-4"><strong>Instrumento:</strong> Hoja de cálculo compartida (Google Sheets) gestionada por el Coordinador TIC.</p>
                                <p class="text-stone-700 mb-2"><strong>Objetivo:</strong> Monitorear la frecuencia y tipo de uso de los equipos y espacios tecnológicos.</p>
                                <ul class="list-disc list-inside space-y-2 text-sm text-stone-600 bg-stone-50 p-4 rounded-md">
                                    <li><strong>Columna:</strong> Fecha y Hora.</li>
                                    <li><strong>Columna:</strong> Docente a cargo.</li>
                                    <li><strong>Columna:</strong> Recurso Utilizado (Ej: Aula de Informática, Carrito de Laptops, PDI Sala 5).</li>
                                    <li><strong>Columna:</strong> Asignatura y breve descripción de la actividad realizada.</li>
                                    <li><strong>Columna:</strong> Reporte de incidencias (si las hubo).</li>
                                </ul>
                            </div>
                             <!-- Instrumento 4: Grupo Focal -->
                             <div class="card p-6 border border-stone-200">
                                <h4 class="font-semibold text-lg text-stone-800">4. Guía para Grupos Focales con Estudiantes (Semestral)</h4>
                                <p class="text-sm text-stone-600 mb-4"><strong>Instrumento:</strong> Guion de preguntas para una conversación grupal.</p>
                                <p class="text-stone-700 mb-2"><strong>Objetivo:</strong> Recoger feedback cualitativo y directo de los estudiantes sobre su experiencia con las clases que integran TIC.</p>
                                <ul class="list-disc list-inside space-y-2 text-sm text-stone-600 bg-stone-50 p-4 rounded-md">
                                     <li><strong>Pregunta de Apertura:</strong> "Cuéntenme sobre una clase reciente donde usaron computadoras o tabletas. ¿Qué hicieron y qué les pareció?"</li>
                                     <li><strong>Pregunta de Profundización:</strong> "¿Qué es lo que más les gusta de usar tecnología para aprender? ¿Y lo que menos les gusta?"</li>
                                     <li><strong>Pregunta de Sugerencia:</strong> "Si pudieran pedirle a sus profesores que usaran la tecnología para algo nuevo en clase, ¿qué sería?"</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <footer class="bg-white mt-12 py-6 border-t">
        <div class="container mx-auto text-center text-stone-500">
            <p>&copy; 2025 Plan de Integración TIC. Presentado por: Ing. Luis Alejandro Ricardo Reyes, Coordinador TIC.</p>
        </div>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, doc, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // Firebase configuration and initialization
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        let db, auth;
        let userId;

        // DOM elements
        const navLinks = document.querySelectorAll('.nav-link');
        const contentSections = document.querySelectorAll('.content-section');
        const evidenceForm = document.getElementById('evidence-form');
        const evidencesList = document.getElementById('evidences-list');
        const loadingMessage = document.getElementById('loading-message');
        const fileUploadForm = document.getElementById('file-upload-form');
        const filesList = document.getElementById('files-list');
        const filesLoadingMessage = document.getElementById('files-loading-message');
        const submenuToggle = document.getElementById('submenu-toggle');
        const submenu = document.getElementById('submenu');
        const recursosSubmenuToggle = document.getElementById('recursos-submenu-toggle');
        const recursosSubmenu = document.getElementById('recursos-submenu');
        const dailyActivityElement = document.getElementById('daily-activity-message');
        const addDailyTaskBtn = document.getElementById('add-daily-task-btn');
        const addTaskForm = document.getElementById('add-task-form');
        const tasksList = document.getElementById('tasks-list');
        const dailyPointsElement = document.getElementById('daily-points');
        const weeklyPointsElement = document.getElementById('weekly-points');
        const weeklyProgressBar = document.getElementById('weekly-progress-bar');
        const annualPointsElement = document.getElementById('annual-points');

        // Chart.js instance
        let formacionChart = null;

        // Toggle submenus
        submenuToggle.addEventListener('click', () => {
            submenu.classList.toggle('open');
            const icon = submenuToggle.querySelector('span');
            if (submenu.classList.contains('open')) {
                icon.textContent = '−';
                icon.classList.add('rotate-45');
            } else {
                icon.textContent = '+';
                icon.classList.remove('rotate-45');
            }
        });

        recursosSubmenuToggle.addEventListener('click', () => {
            recursosSubmenu.classList.toggle('open');
            const icon = recursosSubmenuToggle.querySelector('span');
            if (recursosSubmenu.classList.contains('open')) {
                icon.textContent = '−';
                icon.classList.add('rotate-45');
            } else {
                icon.textContent = '+';
                icon.classList.remove('rotate-45');
            }
        });

        // Data for teachers and their functions
        const teacherData = [
            { name: "Juan Santos Zapata", functions: ["Integrar herramientas digitales en la planificación de clases.", "Participar activamente en los talleres de formación docente.", "Fomentar la alfabetización digital en los estudiantes."] },
            { name: "Joan Gabriel Ulloa Castillo", functions: ["Crear y compartir recursos didácticos digitales.", "Acompañar a los estudiantes en el uso seguro de la tecnología.", "Promover proyectos de aula que usen dispositivos móviles."] },
            { name: "Julio Adolfo Williams Castillo", functions: ["Implementar metodologías de aprendizaje activo con apoyo de TIC.", "Utilizar plataformas de aprendizaje para la gestión de contenidos.", "Evaluar la efectividad de las herramientas digitales en los resultados de los estudiantes."] },
            { name: "Ana Belkis Acosta", functions: ["Diseñar actividades de gamificación con apoyo de la tecnología.", "Hacer que los estudiantes colaboren con proyectos.", "Mantenerse actualizada en las tendencias de tecnología educativa."] },
            { name: "Neyci Yurylenia Cordero Vasquez", functions: ["Utilizar las pizarras digitales interactivas para clases dinámicas.", "Crear presentaciones y animaciones con herramientas como Genially.", "Ofrecer retroalimentación digital a los trabajos de los estudiantes."] },
            { name: "Rosario Sánchez", functions: ["Integrar el pensamiento computacional en asignaturas no tecnológicas.", "Aprovechar los recursos en línea para complementar el currículo.", "Guiar a los estudiantes en la investigación y curaduría de información."] },
            { name: "Damaris Lourdes Reyes Del Rosario", functions: ["Fomentar la creatividad de los estudiantes a través de herramientas de diseño.", "Utilizar herramientas de evaluación formativa digital.", "Comunicarse con las familias a través de plataformas virtuales."] },
            { name: "Guillermo Antonio Sánchez González", functions: ["Implementar el uso de kits de robótica en el aula.", "Facilitar el aprendizaje de la programación por bloques.", "Organizar actividades extracurriculares en el Club de Robótica."] },
            { name: "Iván Paulino Rodríguez", functions: ["Integrar herramientas de realidad aumentada o virtual en sus clases.", "Promover el uso de simuladores para el aprendizaje de conceptos complejos.", "Desarrollar la competencia de resolución de problemas con tecnología."] },
            { name: "Dayely Massiel Pichardo Polanco", functions: ["Utilizar las TIC para personalizar el aprendizaje según las necesidades de cada estudiante.", "Crear encuestas y cuestionarios en línea para conocer el nivel de satisfacción de sus estudiantes.", "Colaborar en la creación de un repositorio digital de recursos."] },
            { name: "Janisse De peña", functions: ["Promover el uso responsable y ético de la tecnología.", "Utilizar herramientas colaborativas para trabajos en equipo.", "Guiar a los estudiantes en la creación de blogs y portafolios digitales."] },
            { name: "Bethania Guzmán", functions: ["Incorporar el uso de herramientas de diseño en la producción de materiales didácticos.", "Fomentar el pensamiento crítico a través del análisis de información en línea.", "Participar en sesiones de formación para mejorar sus habilidades digitales."] },
            { name: "Jean Carlos Almonte Bonifacio", functions: ["Utilizar herramientas de gestión de proyectos para la coordinación de actividades en grupo.", "Promover el uso de la ofimática en la elaboración de documentos y presentaciones.", "Participar en la evaluación del impacto del plan TIC en el centro."] }
        ];

        // Utility functions for date comparison
        const getWeekNumber = (d) => {
            d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
            d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
            const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
            return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
        };
        const isToday = (timestamp) => {
            const today = new Date();
            const date = new Date(timestamp);
            return date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear();
        };
        const isThisWeek = (timestamp) => {
            const today = new Date();
            const date = new Date(timestamp);
            return getWeekNumber(date) === getWeekNumber(today) && date.getFullYear() === today.getFullYear();
        };

        // Function to create the training chart
        const createFormacionChart = () => {
            const ctx = document.getElementById('formacionChart').getContext('2d');
            if (formacionChart) {
                formacionChart.destroy();
            }
            formacionChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Herramientas Colaborativas', 'Creación de Contenido', 'Robótica y STEAM', 'IA y Nuevas Tecnologías'],
                    datasets: [{
                        label: 'Horas de Formación',
                        data: [40, 30, 20, 10],
                        backgroundColor: [
                            'rgba(3, 105, 161, 0.8)', // sky-700
                            'rgba(56, 189, 248, 0.8)', // sky-400
                            'rgba(14, 165, 233, 0.8)', // sky-500
                            'rgba(125, 211, 252, 0.8)'  // sky-300
                        ],
                        borderColor: [
                            'rgba(3, 105, 161, 1)',
                            'rgba(56, 189, 248, 1)',
                            'rgba(14, 165, 233, 1)',
                            'rgba(125, 211, 252, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: false,
                            text: 'Distribución de la Formación'
                        }
                    }
                }
            });
        };

        // Initialize Firebase and set up listeners
        const initializeFirebase = async () => {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
                userId = auth.currentUser.uid;

                // Listen for changes in user's tasks
                const metasQuery = query(collection(db, `artifacts/${appId}/users/${userId}/metas`));
                onSnapshot(metasQuery, querySnapshot => {
                    const metas = [];
                    let dailyPoints = 0;
                    let weeklyPoints = 0;
                    let annualPoints = 0;
                    querySnapshot.forEach(doc => {
                        const data = doc.data();
                        metas.push({ id: doc.id, ...data });
                        if (data.completed) {
                            annualPoints += data.points;
                            if (isToday(data.completedAt)) {
                                dailyPoints += data.points;
                            }
                            if (isThisWeek(data.completedAt)) {
                                weeklyPoints += data.points;
                            }
                        }
                    });
                    renderTasks(metas);
                    dailyPointsElement.textContent = dailyPoints;
                    weeklyPointsElement.textContent = weeklyPoints;
                    const weeklyProgress = (weeklyPoints / 500) * 100;
                    weeklyProgressBar.style.width = `${Math.min(weeklyProgress, 100)}%`;
                    annualPointsElement.textContent = annualPoints;
                });

                // Listen for changes in public evidences
                const evidencesQuery = query(collection(db, `artifacts/${appId}/public/data/evidencias`));
                onSnapshot(evidencesQuery, querySnapshot => {
                    const evidences = [];
                    querySnapshot.forEach(doc => {
                        evidences.push({ id: doc.id, ...doc.data() });
                    });
                    renderEvidences(evidences);
                });

                // Listen for changes in public files
                const filesQuery = query(collection(db, `artifacts/${appId}/public/data/archivos`));
                onSnapshot(filesQuery, querySnapshot => {
                    const files = [];
                    querySnapshot.forEach(doc => {
                        files.push({ id: doc.id, ...doc.data() });
                    });
                    renderFiles(files);
                });
                
                dailyActivityLogic();

            } catch (error) {
                console.error("Error al conectar con la base de datos:", error);
                loadingMessage.textContent = "Error al conectar con la base de datos.";
                filesLoadingMessage.textContent = "Error al conectar con la base de datos.";
            }
        };

        // Render evidences list
        const renderEvidences = evidences => {
            loadingMessage.classList.add('hidden');
            if (evidences.length === 0) {
                evidencesList.innerHTML = '<p class="text-stone-500">Aún no hay evidencias registradas.</p>';
                return;
            }
            evidencesList.innerHTML = '';
            evidences.forEach(evidence => {
                const evidenceCard = document.createElement('div');
                evidenceCard.className = 'bg-white p-4 rounded-lg shadow-sm border border-stone-200';
                evidenceCard.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-semibold text-sky-700">${evidence.activity}</span>
                        <span class="text-xs text-stone-500">${new Date(evidence.timestamp).toLocaleString('es-ES')}</span>
                    </div>
                    <p class="text-stone-800">${evidence.description}</p>
                    <p class="mt-2 text-xs text-stone-400">ID de usuario: ${evidence.userId}</p>
                `;
                evidencesList.appendChild(evidenceCard);
            });
        };

        // Render files list
        const renderFiles = files => {
            filesLoadingMessage.classList.add('hidden');
            if (files.length === 0) {
                filesList.innerHTML = '<p class="text-stone-500">Aún no hay archivos subidos.</p>';
                return;
            }
            filesList.innerHTML = '';
            files.forEach(file => {
                const fileCard = document.createElement('div');
                fileCard.className = 'bg-white p-4 rounded-lg shadow-sm border border-stone-200';
                fileCard.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-semibold text-sky-700">${file.name}</span>
                        <span class="text-xs text-stone-500">${new Date(file.timestamp).toLocaleString('es-ES')}</span>
                    </div>
                    <a href="#" class="text-stone-800 hover:underline">Tipo: ${file.type}</a>
                    <p class="mt-2 text-xs text-stone-400">ID de usuario: ${file.userId}</p>
                `;
                filesList.appendChild(fileCard);
            });
        };

        // Render user's tasks and points
        const renderTasks = metas => {
            tasksList.innerHTML = '';
            if (metas.length === 0) {
                tasksList.innerHTML = '<p class="text-stone-500">Aún no hay metas agregadas.</p>';
                return;
            }
            metas.sort((a, b) => a.completed - b.completed);
            metas.forEach(task => {
                const taskItem = document.createElement('div');
                taskItem.className = `flex justify-between items-center bg-stone-50 p-3 rounded-lg border border-stone-200 task-item ${task.completed ? 'completed-task' : ''}`;
                taskItem.innerHTML = `
                    <div class="flex-1 min-w-0">
                        <p class="text-stone-800 font-medium truncate">${task.description}</p>
                        <span class="text-sm text-sky-700 font-bold">${task.points} puntos</span>
                    </div>
                    <div class="flex space-x-2">
                        ${task.completed ? `
                            <button data-id="${task.id}" data-action="delete" class="p-2 rounded-full bg-red-100 hover:bg-red-200 text-red-600 focus:outline-none">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 11-2 0v6a1 1 0 112 0V8z" clip-rule="evenodd" /></svg>
                            </button>
                        ` : `
                            <button data-id="${task.id}" data-action="complete" class="p-2 rounded-full bg-green-100 hover:bg-green-200 text-green-600 focus:outline-none">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                            </button>
                        `}
                    </div>
                `;
                tasksList.appendChild(taskItem);
            });
        };

        // Navigation
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                const targetId = link.getAttribute('data-target');
                navLinks.forEach(navLink => navLink.classList.remove('active'));
                link.classList.add('active');
                contentSections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.remove('hidden');
                    } else {
                        section.classList.add('hidden');
                    }
                });
                if (targetId === 'formacion') {
                    createFormacionChart();
                }
            });
        });

        // Toggle training section accordions
        const accordionItems = document.querySelectorAll('.training-item');
        accordionItems.forEach(item => {
            const button = item.querySelector('button');
            const details = item.querySelector('.training-details');
            const icon = button.querySelector('span:last-child');
            button.addEventListener('click', () => {
                const isHidden = details.classList.contains('hidden');
                if (isHidden) {
                    details.classList.remove('hidden');
                    icon.classList.add('rotate-45');
                    icon.textContent = '−';
                } else {
                    details.classList.add('hidden');
                    icon.classList.remove('rotate-45');
                    icon.textContent = '+';
                }
            });
        });

        // Handle form submissions for evidences and files
        evidenceForm.addEventListener('submit', async e => {
            e.preventDefault();
            const activity = document.getElementById('activity-select').value;
            const description = document.getElementById('evidence-description').value;

            if (!db || !userId) {
                console.error("Firebase no está inicializado o el usuario no está autenticado.");
                return;
            }

            try {
                const docRef = await addDoc(collection(db, `artifacts/${appId}/public/data/evidencias`), {
                    activity: activity,
                    description: description,
                    userId: userId,
                    timestamp: new Date().getTime()
                });
                console.log("Documento escrito con ID: ", docRef.id);
                evidenceForm.reset();
            } catch (e) {
                console.error("Error al añadir documento: ", e);
            }
        });

        fileUploadForm.addEventListener('submit', async e => {
            e.preventDefault();
            const fileInput = document.getElementById('file-input');
            const file = fileInput.files[0];

            if (!file) {
                console.log('Por favor, selecciona un archivo para subir.');
                return;
            }

            if (!db || !userId) {
                console.error("Firebase no está inicializado o el usuario no está autenticado.");
                return;
            }

            try {
                // In a real app, you would upload the file to Firebase Storage.
                // Here, we just store the file metadata in Firestore.
                const docRef = await addDoc(collection(db, `artifacts/${appId}/public/data/archivos`), {
                    name: file.name,
                    type: file.type,
                    userId: userId,
                    timestamp: new Date().getTime()
                });
                console.log("Archivo metadata escrito con ID: ", docRef.id);
                fileUploadForm.reset();
            } catch (e) {
                console.error("Error al añadir metadata de archivo: ", e);
            }
        });

        // Teachers tab logic
        const teacherTabsContainer = document.getElementById('teacher-tabs');
        const teacherContentContainer = document.getElementById('teacher-content');
        teacherData.forEach((teacher, index) => {
            const tabButton = document.createElement('button');
            tabButton.className = 'teacher-tab py-2 px-4 rounded-lg text-sm font-semibold text-stone-600 border border-stone-200 hover:bg-stone-100';
            tabButton.textContent = teacher.name;
            tabButton.dataset.index = index;
            teacherTabsContainer.appendChild(tabButton);

            const contentDiv = document.createElement('div');
            contentDiv.className = 'teacher-details hidden p-6 rounded-lg bg-stone-50 border border-stone-200';
            contentDiv.dataset.index = index;
            contentDiv.innerHTML = `
                <h3 class="text-xl font-bold text-sky-800 mb-2">${teacher.name}</h3>
                <h4 class="font-semibold text-lg text-stone-700 mb-2">Funciones Clave</h4>
                <ul class="list-disc list-inside space-y-2 text-stone-600">
                    ${teacher.functions.map(func => `<li>${func}</li>`).join('')}
                </ul>
            `;
            teacherContentContainer.appendChild(contentDiv);
        });
        teacherTabsContainer.addEventListener('click', e => {
            if (e.target.matches('.teacher-tab')) {
                const index = e.target.dataset.index;
                document.querySelectorAll('.teacher-tab').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                document.querySelectorAll('.teacher-details').forEach(div => div.classList.add('hidden'));
                document.querySelector(`.teacher-details[data-index='${index}']`).classList.remove('hidden');
            }
        });

        // Club tabs logic
        const clubTabsContainer = document.getElementById('club-tabs');
        const clubContentContainer = document.getElementById('club-content');
        clubTabsContainer.addEventListener('click', e => {
            if (e.target.matches('.club-tab')) {
                const tab = e.target.dataset.tab;
                document.querySelectorAll('.club-tab').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                document.querySelectorAll('.club-details').forEach(div => div.classList.add('hidden'));
                document.querySelector(`.club-details[data-tab='${tab}']`).classList.remove('hidden');
            }
        });

        // Daily activity and points logic
        const dailyActivityLogic = () => {
            const today = new Date().getDay();
            const activitiesByDay = {
                0: "¡Hoy es domingo! Disfruta de un descanso y recarga energías.",
                1: "Planifica la semana: define los objetivos y revisa el inventario de equipos. (100 pts)",
                2: "Asesora a un docente: ofrece apoyo personalizado en el uso de una herramienta digital. (100 pts)",
                3: "Colabora en proyectos: trabaja con un profesor para integrar las TIC en una clase. (100 pts)",
                4: "Apoya a los estudiantes: ayuda a un grupo en su proyecto en el aula de informática. (100 pts)",
                5: "Evalúa el progreso: revisa las evidencias de la semana y elabora un informe. (100 pts)",
                6: "¡Es sábado! Investiga y descubre nuevas herramientas para usar en clase."
            };
            const activity = activitiesByDay[today] || "No hay actividad programada para este día.";
            dailyActivityElement.textContent = activity;

            if (today >= 1 && today <= 5) {
                addDailyTaskBtn.classList.remove('hidden');
            } else {
                addDailyTaskBtn.classList.add('hidden');
            }

            addDailyTaskBtn.onclick = async () => {
                if (!db || !userId) {
                    console.error("Firebase no está inicializado o el usuario no está autenticado.");
                    return;
                }
                try {
                    await addDoc(collection(db, `artifacts/${appId}/users/${userId}/metas`), {
                        description: activitiesByDay[today],
                        points: 100,
                        completed: false,
                        userId: userId,
                        timestamp: new Date().getTime()
                    });
                } catch (e) {
                    console.error("Error al añadir la tarea del día: ", e);
                }
            };
        };

        // Handle task actions (complete/delete)
        const handleTaskAction = async e => {
            const id = e.target.closest('[data-id]').dataset.id;
            const action = e.target.closest('[data-action]').dataset.action;

            if (!db || !userId) {
                console.error("Firebase no está inicializado o el usuario no está autenticado.");
                return;
            }

            const taskRef = doc(db, `artifacts/${appId}/users/${userId}/metas`, id);
            try {
                if (action === 'complete') {
                    await updateDoc(taskRef, {
                        completed: true,
                        completedAt: new Date().getTime()
                    });
                } else if (action === 'delete') {
                    await deleteDoc(taskRef);
                }
            } catch (e) {
                console.error(`Error al ${action} la tarea: `, e);
            }
        };

        tasksList.addEventListener('click', handleTaskAction);

        // Handle adding a new custom task
        addTaskForm.addEventListener('submit', async e => {
            e.preventDefault();
            const description = document.getElementById('task-description').value;
            const points = parseInt(document.getElementById('task-points').value, 10);

            if (!description || !points || !db || !userId) {
                console.error("Campos inválidos o Firebase no está inicializado.");
                return;
            }

            try {
                await addDoc(collection(db, `artifacts/${appId}/users/${userId}/metas`), {
                    description,
                    points,
                    completed: false,
                    userId,
                    timestamp: new Date().getTime()
                });
                addTaskForm.reset();
            } catch (e) {
                console.error("Error al añadir la actividad: ", e);
            }
        });

        // Set initial active nav link and content
        document.querySelector('.nav-link').click();
        document.querySelector('.club-tab').click();

        // Start the application
        initializeFirebase();
    </script>
</body>
</html>